version: 2

models:
  - name: fct_detalhes_vendas
    description: "Esta tabela reúne informações na maior granularidade, a nível de produto."
    columns:
      - name: motivo_fk
        description: "Chave estrangeira para a tabela de motivos de venda."
        # tests: 
          # - not_null
      - name: cliente_fk
        description: "Chave estrangeira para a tabela de cliente."
        # tests:
      - name: vendedor_fk
        description: "Chave estrangeira para a tabela de vendedores."
        # tests:
      - name: regiao_fk
        description: "Chave estrangeira para a tabela de regiões."
        # tests:
      - name: cartao_credito_fk
        description: "Chave estrangeira para a tabela de cartão de crédito."
        # tests:
      - name: data_fk
        description: "Chave estrangeira para a tabela de data/calendário."
        # tests:
      - name: produto_fk
        description: "Chave estrangeira para a tabela de produtos."
        # tests:
      - name: id_pedido
        description: "Identificador único do pedido."
        # tests:
      - name: dt_pedido
        description: "Data em que o pedido foi feito."
        # tests:
      - name: dt_devida_entrega
        description: "Data em que o pedido é devido ao cliente."
        # tests:
      - name: dt_envio
        description: "Data em que o pedido foi enviado ao cliente."
        # tests:
      - name: dt_modificacao
        description: "Data de modificação do registro."
        # tests:
      - name: st_pedido
        description: >
          "Status atual do pedido, podendo ser: 1 = Em processo; 2 = Aprovado; 3 = Pedido em espera; 
          4 = Rejeitado; 5 = Enviado; 6 = Cancelado "
        # tests:
      - name: fl_pedido_online
        description: "Flag que indica se a compra foi feita online ou não. Sendo true = verdadeiro e false = falso."
        # tests:
      - name: vr_subtotal_pedido
        description: "Subtotal de vendas. Calculado como SUM(SalesOrderDetail.LineTotal) para o SalesOrderID apropriado."
        # tests:
      - name: vr_imposto_pedido
        description: "Valor do imposto para o pedido."
        # tests:
      - name: vr_frete_pedido
        description: "Valor de frete para o pedido."
        # tests:
      - name: vr_total_devido 
        description: "Total devido pelo cliente. Calculado como vr_subtotal + vr_imposto_pedido + vr_frete_pedido."
        # tests:
      - name: vr_produto 
        description: "Preço de venda de um único produto."
        # tests:
      - name: vr_desconto 
        description: "Valor do desconto."
        # tests:
      - name: qt_encomendada_produto
        description: "Quantidade encomendada por produto."
        # tests:
